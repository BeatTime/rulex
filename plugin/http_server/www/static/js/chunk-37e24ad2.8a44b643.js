(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37e24ad2"],{"2a89":function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return r}));var i=a("b775");function l(){return Object(i["a"])({url:"inends",method:"get"})}function o(e){return Object(i["a"])({url:"inends",method:"post",data:e})}function r(e){return Object(i["a"])({method:"delete",url:"inends?uuid="+e})}},"6c1f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("el-container",{staticStyle:{height:"800px",border:"1px solid #eee"}},[i("el-main",[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(" 输入资源管理")])]),i("el-button",{attrs:{type:"primary",icon:"el-icon-help"},on:{click:function(){e.createDialogVisible=!0}}},[t._v("新 建")]),i("el-button",{attrs:{type:"success",icon:"el-icon-refresh"},on:{click:t.refreshList}},[t._v("刷 新")]),i("el-dialog",{attrs:{title:"新建资源",visible:t.createDialogVisible,width:"800px",top:"2%","show-close":!1,"before-close":function(){}},on:{"update:visible":function(e){t.createDialogVisible=e}}},[i("el-form",{ref:"createForm",attrs:{model:t.createForm,"status-icon":"",rules:t.createFormRules}},[i("el-form-item",{attrs:{label:"资源名称","label-width":"90px","label-position":"left",prop:"name"}},[i("el-input",{attrs:{placeholder:"资源名称"},model:{value:t.createForm.name,callback:function(e){t.$set(t.createForm,"name",e)},expression:"createForm.name"}})],1),i("el-form-item",{attrs:{label:"资源类型","label-width":"90px","label-position":"left",prop:"type"}},[i("el-select",{staticStyle:{width:"500px"},attrs:{placeholder:"资源类型",filterable:""},on:{change:t.onSelectChange},model:{value:t.createForm.type,callback:function(e){t.$set(t.createForm,"type",e)},expression:"createForm.type"}},[i("el-option",{attrs:{label:"MQTT 协议桥接",value:"MQTT"}}),i("el-option",{attrs:{label:"HTTP 协议接入",value:"HTTP"}}),i("el-option",{attrs:{label:"UDP 协议输入",value:"UDP"}}),i("el-option",{attrs:{label:"COAP 协议接入",value:"COAP"}}),i("el-option",{attrs:{label:"GRPC 协议接入",value:"GRPC"}}),i("el-option",{attrs:{label:"通用串口接入",value:"UART_MODULE"}}),i("el-option",{attrs:{label:"MODBUS TCP MASTER 模式",value:"MODBUS_TCP_MASTER"}}),i("el-option",{attrs:{label:"MODBUS RTU MASTER 模式",value:"MODBUS_RTU_MASTER"}}),i("el-option",{attrs:{label:"SNMP 协议接入",value:"SNMP_SERVER"}})],1)],1),i("el-form-item",{attrs:{label:"资源配置","label-width":"90px","label-position":"left",prop:"config"}},[i("v-jsoneditor",{staticStyle:{height:"400px"},attrs:{options:t.options},model:{value:t.createForm.config,callback:function(e){t.$set(t.createForm,"config",e)},expression:"createForm.config"}})],1),i("el-form-item",{attrs:{label:"备注信息","label-width":"90px","label-position":"left",prop:"description"}},[i("el-input",{attrs:{autocomplete:"off",placeholder:"备注信息"},model:{value:t.createForm.description,callback:function(e){t.$set(t.createForm,"description",e)},expression:"createForm.description"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(){e.createDialogVisible=!1,e.createForm={}}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.createInEnd}},[t._v("提 交")])],1)],1)],1),i("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"uuid",label:"UUID",width:"340px"}}),i("el-table-column",{attrs:{prop:"type",label:"类型",width:"200px",filters:[{text:"MQTT 协议桥接",value:"MQTT"},{text:"HTTP 协议接入",value:"HTTP"},{text:"UDP 协议输入",value:"UDP"},{text:"COAP 协议接入",value:"COAP"},{text:"GRPC 协议接入",value:"GRPC"},{text:"通用串口接入",value:"UART_MODULE"},{text:"MODBUS TCP MASTER 模式",value:"MODBUS_TCP_MASTER"},{text:"MODBUS RTU MASTER 模式",value:"MODBUS_RTU_MASTER"},{text:"SNMP 协议接入",value:"SNMP_SERVER"}],"filter-method":t.filterType}}),i("el-table-column",{attrs:{prop:"name",label:"名称"}}),i("el-table-column",{attrs:{prop:"description",label:"信息"}}),i("el-table-column",{attrs:{prop:"state",label:"状态",filters:[{text:"正常",value:1},{text:"异常",value:0}],"filter-method":t.filterState,width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.state?i("el-tag",{attrs:{type:"success"}},[t._v("正常")]):i("el-tag",{attrs:{type:"danger"}},[t._v("异常")])]}}])}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.details(e.row)}}},[t._v("详情")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.removeInEnd(e.row)}}},[t._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:"输出目标详情",visible:t.detailDialogVisible,width:"30%"},on:{"update:visible":function(e){t.detailDialogVisible=e}}},[i("v-jsoneditor",{staticStyle:{height:"400px"},attrs:{options:t.detailOptions},model:{value:t.inEndDetail,callback:function(e){t.inEndDetail=e},expression:"inEndDetail"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(){t.detailDialogVisible=!1,t.inEndDetail={}}}},[t._v("确 定")])],1)],1)],1)],1)},l=[],o=a("2b0e"),r=a("27f7"),n=a("2a89"),s=a("5c96"),c={MQTT:{host:"127.0.0.1",port:2883,topic:"rulex-client-topic-1",clientId:"rulex1",username:"rulex1",password:"******"},HTTP:{port:2581},UDP:{port:2582},COAP:{port:2583},UART_MODULE:{address:"uart1",baudRate:115200,timeout:5,dataBits:8,parity:"N",stopBits:1},MODBUS_TCP_MASTER:{mode:"TCP",timeout:10,slaverId:1,frequency:3,rtuConfig:{uart:"COM1",baudRate:115200},tcpConfig:{ip:"127.0.0.1",port:502},registerParams:[{function:3,address:0,quantity:10}]},MODBUS_RTU_MASTER:{mode:"RTU",timeout:10,slaverId:1,frequency:3,rtuConfig:{uart:"COM1",baudRate:115200},tcpConfig:{ip:"127.0.0.1",port:502},registerParams:[{function:3,address:0,quantity:10}]},SNMP_SERVER:{frequency:5,timeout:3,targets:[{target:"127.0.0.1",port:161,transport:"udp",community:"public",version:3,dataModels:[]}]}},u=c;o["default"].use(r["a"]);var d={components:{VJsoneditor:r["a"]},name:"InEnd",methods:{onSelectChange:function(e){this.createForm.config=u[e]},removeInEnd:function(e){var t=this;Object(n["c"])(e.uuid).then((function(e){Object(s["Message"])({message:e.msg,type:"success",duration:5e3}),t.getList()}))},details:function(e){this.inEndDetail=e,this.detailDialogVisible=!0},refreshList:function(){this.getList(),Object(s["Message"])({message:"刷新成功",type:"success",duration:5e3})},createInEnd:function(){var e=this,t=this;this.$refs["createForm"].validate((function(a){return!!a&&(Object(n["a"])(e.createForm).then((function(a){Object(s["Message"])({message:"创建成功",type:"success",duration:5e3}),e.createDialogVisible=!1,e.createForm={},t.getList()})),!0)}))},getList:function(){var e=this;Object(n["b"])().then((function(t){e.tableData=t.data}))},filterType:function(e,t){return t.type===e},filterState:function(e,t){return t.state===e}},created:function(){this.getList()},data:function(){return{options:{modes:["tree","code","preview"],mode:"code",ace:ace,templates:[]},detailOptions:{modes:["code"],mode:"code",ace:ace},detailDialogVisible:!1,inEndDetail:{},createDialogVisible:!1,createForm:{type:null,name:null,description:null,config:{example_config_key:"example_config_value"}},createFormRules:{type:[{required:!0,message:"输入类型",trigger:["blur","change"]}],name:[{required:!0,message:"输入名称",trigger:["blur","change"]}],description:[{required:!0,message:"输入描述",trigger:["blur","change"]}],config:[{required:!0,message:"输入配置",trigger:["blur","change"]}]},tableData:[]}}},p=d,f=a("2877"),m=Object(f["a"])(p,i,l,!1,null,null,null);t["default"]=m.exports}}]);